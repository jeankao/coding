<div class="btn-group mb-2" role="group">
  <a href="/student/work/data/add/{{typing}}/{{lesson}}/{{index}}/0" role="btn" class="btn btn-default btn-sm">新增變數</a>
  <a href="/student/work/data/add/{{typing}}/{{lesson}}/{{index}}/1" role="btn" class="btn btn-default btn-sm">新增陣列</a>
  <a href="/student/work/data/add/{{typing}}/{{lesson}}/{{index}}/2" role="btn" class="btn btn-default btn-sm">新增常數</a>
</div>
<div class="card card-default exp-editor">
  <div class="card-header">變數：
    <ul class="exp-item-list">
      {% for data in data1 %}
      <li class="btn btn-info btn-sm exp-item exp-item-var">
        <a href="/student/work/data/edit/{{typing}}/{{lesson}}/{{index}}/0/{{data.id}}">{{data.name}}</a>
      </li>
      {% endfor %}
    </ul>
  </div>
  <div class="card-header">陣列：
    <ul class="exp-item-list">
      {% for data in data2 %}
      <li class="btn btn-info btn-sm exp-item">
        <a href="/student/work/data/edit/{{typing}}/{{lesson}}/{{index}}/1/{{data.id}}">{{data.name}}</a>
      </li>
      {% endfor %}
    </ul>
  </div>
  <div class="card-header">常數：
    <ul class="exp-item-list">
      {% for data in data3 %}
      <li class="btn btn-info btn-sm exp-item">
        <a href="/student/work/data/edit/{{typing}}/{{lesson}}/{{index}}/2/{{data.id}}">{{data.name}}</a>
      </li>
      {% endfor %}
    </ul>
  </div>
  <div class="card-header">符號：
    <ul class="exp-item-list sortable">
      <li class="btn btn-info btn-sm exp-item">(</li>
      <li class="btn btn-info btn-sm exp-item">)</li>
      <li class="btn btn-info btn-sm exp-item">+</li>
      <li class="btn btn-info btn-sm exp-item">-</li>
      <li class="btn btn-info btn-sm exp-item">*</li>
      <li class="btn btn-info btn-sm exp-item">/</li>
      <li class="btn btn-info btn-sm exp-item">^</li>
    </ul>
  </div>
  <div class="card-body pt-1 exp-trash">
    <span class="badge badge-dark">請將上面的元件方塊拖曳至下方運算式的虛線框內...</span>
    <div class="exp-list">
      <div class="exp">
        <ul class="exp-lhs exp-item-list">
          <li class="btn btn-warning btn-sm">?</li>
        </ul>
        <ul class="d-inline-block pl-0">
          <li class="btn btn-dark btn-sm">=</li>
        </ul>
        <ul class="exp-rhs exp-item-list sortable">
        </ul>
      </div>
    </div>
  </div>
</div>

<script>
$(function() {
  $('.exp-item').draggable({
    connectToSortable: '.exp-rhs',
    helper: "clone",
    revert: "invalid",
  });

  $('.exp-item-var').draggable({
    connectToSortable: '.exp-rhs, .exp-lhs',
    helper: "clone",
    revert: "invalid",
  });

  $('.exp-lhs').sortable({
    receive: function(event, ui) {
      $(this).empty().append($(ui.item).clone());
    },
  }).disableSelection();

  $('.exp-trash').sortable({
    receive: function(event, ui) {
      $(ui.item).detach();
    }
  });

  $('.sortable').sortable({
    connectWith: '.exp-trash',
  }).disableSelection();
});
</script>